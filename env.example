# ============================================
# ELEVARE BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3000
NODE_ENV=development
API_PREFIX=api
APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3001

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Format: postgresql://[user]:[password]@[host]:[port]/[database]?sslmode=require
# For AWS RDS, include ?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/elevare

# ============================================
# REDIS (For caching and queues)
# ============================================
# Format: redis://[host]:[port] or redis://[password]@[host]:[port]
REDIS_URL=redis://localhost:6379

# ============================================
# JWT AUTHENTICATION
# ============================================
# Generate strong secrets: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production-min-32-chars
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# RATE LIMITING (Throttler)
# ============================================
THROTTLER_TTL=60000
THROTTLER_LIMIT=100

# ============================================
# EMAIL SERVICE (Zeptomail)
# ============================================
ZEPTOMAIL_TOKEN=your-zeptomail-token
# Bounce address must be verified in Zeptomail dashboard before use
# Leave empty to use Zeptomail's default bounce address
# To verify: Go to Zeptomail Dashboard > Settings > Bounce Address > Add & Verify
ZEPTOMAIL_BOUNCE_ADDRESS=
FROM_EMAIL=noreply@leviateapp.com
FROM_NAME=Leviate

# Zeptomail Template IDs (optional - if not set, inline HTML templates will be used)
# Get Template IDs from your Zeptomail dashboard after creating templates
# See ZEPTOMAIL_TEMPLATES.md for template HTML content
ZEPTOMAIL_TEMPLATE_OTP_VERIFICATION=
ZEPTOMAIL_TEMPLATE_PASSWORD_RESET=
ZEPTOMAIL_TEMPLATE_WELCOME=
ZEPTOMAIL_TEMPLATE_WITHDRAWAL_OTP=
ZEPTOMAIL_TEMPLATE_TASK_CREATED=
ZEPTOMAIL_TEMPLATE_TASK_APPLIED=
ZEPTOMAIL_TEMPLATE_TASK_APPROVED=
ZEPTOMAIL_TEMPLATE_TASK_DECLINED=
ZEPTOMAIL_TEMPLATE_SUBMISSION_VERIFIED=
ZEPTOMAIL_TEMPLATE_SUBMISSION_REJECTED=
ZEPTOMAIL_TEMPLATE_PAYOUT_RECEIVED=
ZEPTOMAIL_TEMPLATE_WITHDRAWAL_PROCESSED=
ZEPTOMAIL_TEMPLATE_WITHDRAWAL_FAILED=
ZEPTOMAIL_TEMPLATE_REFERRAL_REWARD=
ZEPTOMAIL_TEMPLATE_PROFILE_INCOMPLETE=
ZEPTOMAIL_TEMPLATE_NIN_VERIFICATION_REQUIRED=
ZEPTOMAIL_TEMPLATE_SYSTEM_ALERT=

# ============================================
# CLOUD STORAGE (AWS S3)
# ============================================
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=elevare-uploads
AWS_REGION=us-east-1
AWS_S3_ENDPOINT=
AWS_S3_FORCE_PATH_STYLE=false

# Alternative: Cloudinary
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret

# ============================================
# AI SERVICE
# ============================================
# Choose one: OpenAI or Anthropic Claude
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
# OR
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-opus-20240229

# ============================================
# PAYMENT GATEWAY
# ============================================
# Paystack (Nigeria/Ghana/Kenya)
PAYSTACK_SECRET_KEY=your-paystack-secret-key
PAYSTACK_PUBLIC_KEY=your-paystack-public-key
PAYSTACK_BASE_URL=https://api.paystack.co

# Alternative: Flutterwave
# FLUTTERWAVE_SECRET_KEY=your-flutterwave-secret-key
# FLUTTERWAVE_PUBLIC_KEY=your-flutterwave-public-key
# FLUTTERWAVE_BASE_URL=https://api.flutterwave.com/v3

# Alternative: Stripe
# STRIPE_SECRET_KEY=your-stripe-secret-key
# STRIPE_PUBLIC_KEY=your-stripe-public-key
# STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret

# ============================================
# FEATURE FLAGS & BUSINESS LOGIC
# ============================================
REFERRAL_REWARD_AMOUNT=100
PLATFORM_FEE_PERCENTAGE=5
MIN_REPUTATION_FOR_AUTO_APPROVAL=75
DEFAULT_REPUTATION_SCORE=50
MAX_REPUTATION_SCORE=100
MIN_REPUTATION_SCORE=0

# ============================================
# ENCRYPTION (For sensitive data like NIN)
# ============================================
# Generate a 32-byte base64 key using one of these methods:
#   - openssl rand -base64 32
#   - npm run generate:encryption-key
# IMPORTANT: This key must be exactly 32 bytes when decoded from base64
# In development, you can leave this empty (dummy key will be used)
ENCRYPTION_KEY=
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_IV_LENGTH=16

# ============================================
# NOTIFICATIONS
# ============================================
NOTIFICATION_EMAIL_ENABLED=true
NOTIFICATION_QUEUE_NAME=email-notification
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000

# ============================================
# SWAGGER/API DOCUMENTATION
# ============================================
SWAGGER_ENABLED=true
SWAGGER_PATH=api/docs

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=debug
# Options: error, warn, info, debug, verbose
LOG_FILE_ENABLED=false
LOG_FILE_PATH=logs/app.log

# ============================================
# SOCIAL MEDIA OAUTH (Optional)
# ============================================
# Facebook
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_REDIRECT_URI=http://localhost:3000/api/auth/facebook/callback

# Instagram
INSTAGRAM_APP_ID=your-instagram-app-id
INSTAGRAM_APP_SECRET=your-instagram-app-secret
INSTAGRAM_REDIRECT_URI=http://localhost:3000/api/auth/instagram/callback

# TikTok
TIKTOK_CLIENT_KEY=your-tiktok-client-key
TIKTOK_CLIENT_SECRET=your-tiktok-client-secret
TIKTOK_REDIRECT_URI=http://localhost:3000/api/auth/tiktok/callback

# Snapchat
SNAPCHAT_CLIENT_ID=your-snapchat-client-id
SNAPCHAT_CLIENT_SECRET=your-snapchat-client-secret
SNAPCHAT_REDIRECT_URI=http://localhost:3000/api/auth/snapchat/callback

# LinkedIn
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
LINKEDIN_REDIRECT_URI=http://localhost:3000/api/auth/linkedin/callback

# X (Twitter)
TWITTER_CLIENT_ID=your-twitter-client-id
TWITTER_CLIENT_SECRET=your-twitter-client-secret
TWITTER_REDIRECT_URI=http://localhost:3000/api/auth/twitter/callback

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=5242880
# 5MB in bytes (5 * 1024 * 1024)
ALLOWED_FILE_TYPES=jpg,jpeg,png,webp,pdf
UPLOAD_DESTINATION=s3
# Options: s3, cloudinary, local

# ============================================
# TASK VERIFICATION
# ============================================
AI_VERIFICATION_THRESHOLD=80
# Minimum score (0-100) for task submission verification
VERIFICATION_JOB_INTERVAL=1800000
# 30 minutes in milliseconds
OCR_SERVICE=openai
# Options: openai, google-vision, tesseract

# ============================================
# WALLET & LEDGER
# ============================================
MIN_WITHDRAWAL_AMOUNT=100
MAX_WITHDRAWAL_AMOUNT=1000000
DAILY_WITHDRAWAL_LIMIT=500000
WITHDRAWAL_FEE=0
LEDGER_INTEGRITY_CHECK_ENABLED=true
LEDGER_INTEGRITY_CHECK_SCHEDULE=0 2 * * *
# Cron: Daily at 2 AM

# ============================================
# SECURITY
# ============================================
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-change-in-production
CORS_ORIGINS=http://localhost:3001,http://localhost:3000
# Comma-separated list of allowed origins

# ============================================
# MONITORING & HEALTH CHECKS
# ============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=health

# ============================================
# SUPER ADMIN SEEDING
# ============================================
# Credentials for the first super admin (created by seed script)
# If not set, defaults will be used: superadmin@leviateapp.com / SuperAdmin123!
SUPERADMIN_EMAIL=superadmin@leviateapp.com
SUPERADMIN_PASSWORD=SuperAdmin123!

# ============================================
# DEVELOPMENT ONLY
# ============================================
# Set to true to show detailed error stack traces
SHOW_ERROR_STACK=true
# Set to true to enable Prisma query logging
PRISMA_LOG_QUERIES=false
